execute store result score @s enhanced_pots.projectile_interact_0 run data get entity @s interaction.player[0]
execute store result score @s enhanced_pots.projectile_interact_1 run data get entity @s interaction.player[1]
execute store result score @s enhanced_pots.projectile_interact_2 run data get entity @s interaction.player[2]
execute store result score @s enhanced_pots.projectile_interact_3 run data get entity @s interaction.player[3]

# store explosion radius on interaction entity
execute at @s as @a[tag=pot_marker_projectile_interact_owner] if score @s enhanced_pots.projectile_owner_0 = @n[type=minecraft:interaction,tag=pot_projectile_interact] enhanced_pots.projectile_interact_0 if score @s enhanced_pots.projectile_owner_1 = @n[type=minecraft:interaction,tag=pot_projectile_interact] enhanced_pots.projectile_interact_1 if score @s enhanced_pots.projectile_owner_2 = @n[type=minecraft:interaction,tag=pot_projectile_interact] enhanced_pots.projectile_interact_2 if score @s enhanced_pots.projectile_owner_3 = @n[type=minecraft:interaction,tag=pot_projectile_interact] enhanced_pots.projectile_interact_3 store result score @n[type=minecraft:interaction,tag=pot_projectile_interact] enhanced_pots.projectile_explosion_radius run data get entity @s SelectedItem.components.'minecraft:container'[0].item.count

execute if score @s enhanced_pots.projectile_owner_0 = @s enhanced_pots.projectile_interact_0 if score @s enhanced_pots.projectile_owner_1 = @s enhanced_pots.projectile_interact_1 if score @s enhanced_pots.projectile_owner_2 = @s enhanced_pots.projectile_interact_2 if score @s enhanced_pots.projectile_owner_3 = @s enhanced_pots.projectile_interact_3 at @s positioned ^ ^ ^-2 run function enhanced_pots:projectile/summon_projectile
execute at @s as @a[tag=pot_marker_projectile_interact_owner] if score @s enhanced_pots.projectile_owner_0 = @n[type=minecraft:interaction,tag=pot_projectile_interact] enhanced_pots.projectile_interact_0 if score @s enhanced_pots.projectile_owner_1 = @n[type=minecraft:interaction,tag=pot_projectile_interact] enhanced_pots.projectile_interact_1 if score @s enhanced_pots.projectile_owner_2 = @n[type=minecraft:interaction,tag=pot_projectile_interact] enhanced_pots.projectile_interact_2 if score @s enhanced_pots.projectile_owner_3 = @n[type=minecraft:interaction,tag=pot_projectile_interact] enhanced_pots.projectile_interact_3 run item replace entity @s weapon.mainhand with minecraft:air
execute if score @s enhanced_pots.projectile_owner_0 = @s enhanced_pots.projectile_interact_0 if score @s enhanced_pots.projectile_owner_1 = @s enhanced_pots.projectile_interact_1 if score @s enhanced_pots.projectile_owner_2 = @s enhanced_pots.projectile_interact_2 if score @s enhanced_pots.projectile_owner_3 = @s enhanced_pots.projectile_interact_3 run data remove entity @s interaction